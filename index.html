<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Wild Psyduck Gift</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
* {
  box-sizing: border-box;
  font-family: "Courier New", monospace;
}

body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  background:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
    url("https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  image-rendering: pixelated;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ================= NPCs ================= */
.npc-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.npc {
  position: absolute;
  bottom: 12%;
  width: 24px;
  height: 40px;
  image-rendering: pixelated;
  animation: walk linear infinite;
}

/* NPC sprites using pure CSS */
.npc::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    linear-gradient(#000 0 0),
    linear-gradient(#ffd966 0 0),
    linear-gradient(#4a86e8 0 0),
    linear-gradient(#000 0 0);
  background-size:
    24px 4px,
    16px 10px,
    20px 16px,
    16px 6px;
  background-position:
    center top,
    center 4px,
    center 14px,
    center bottom;
  background-repeat: no-repeat;
}

/* Variations */
.npc.red::before { filter: hue-rotate(0deg); }
.npc.blue::before { filter: hue-rotate(200deg); }
.npc.green::before { filter: hue-rotate(100deg); }

.npc.one { animation-duration: 18s; bottom: 14%; }
.npc.two { animation-duration: 22s; bottom: 18%; }
.npc.three { animation-duration: 26s; bottom: 10%; }

@keyframes walk {
  from { left: -40px; }
  to { left: 110%; }
}

/* ================= Flash ================= */
.flash {
  position: fixed;
  inset: 0;
  background: white;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.35s;
  z-index: 999;
}
.flash.active { opacity: 1; }

/* ================= PokÃ©ball ================= */
.pokeball-container {
  z-index: 5;
  text-align: center;
  animation: float 3s ease-in-out infinite;
}

.pokeball {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  position: relative;
  cursor: pointer;
  animation: shake 1.4s infinite;
}

.pokeball::before {
  content: "";
  position: absolute;
  top: 0;
  width: 100%;
  height: 50%;
  background: #e53935;
  border-radius: 90px 90px 0 0;
}

.pokeball::after {
  content: "";
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 50%;
  background: white;
  border-radius: 0 0 90px 90px;
}

.belt {
  position: absolute;
  top: 50%;
  width: 100%;
  height: 14px;
  background: black;
  transform: translateY(-50%);
}

.button {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 36px;
  height: 36px;
  background: white;
  border: 6px solid black;
  border-radius: 50%;
  transform: translate(-50%, -50%);
}

.ball-text {
  margin-top: 18px;
  color: #fff;
  font-weight: bold;
  text-shadow: 2px 2px 0 #000;
  font-size: 14px;
}

/* ================= Card ================= */
.card-wrapper {
  display: none;
  perspective: 1200px;
  animation: float 3s ease-in-out infinite;
  z-index: 5;
}

.card {
  width: 300px;
  height: 420px;
  transform-style: preserve-3d;
  transition: transform 0.8s;
  cursor: pointer;
}

.card.flipped { transform: rotateY(180deg); }

.card-side {
  position: absolute;
  inset: 0;
  backface-visibility: hidden;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 12px 30px rgba(0,0,0,0.6);
}

.card-front img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.card-back {
  background: #fff2cc;
  border: 6px solid #2b6cb0;
  padding: 16px;
  transform: rotateY(180deg);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.item-box {
  border: 3px dashed #2b6cb0;
  background: #e6f0ff;
  padding: 10px;
  font-weight: bold;
  text-align: center;
}

/* ================= Animations ================= */
@keyframes shake {
  0%,100% { transform: rotate(0); }
  25% { transform: rotate(-6deg); }
  75% { transform: rotate(6deg); }
}

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

/* ================= Mobile ================= */
@media (max-width: 500px) {
  .card { width: 260px; height: 380px; }
  .npc { transform: scale(0.8); }
}
</style>
</head>

<body>

<!-- NPCs -->
<div class="npc-layer">
  <div class="npc red one"></div>
  <div class="npc blue two"></div>
  <div class="npc green three"></div>
</div>

<div class="flash" id="flash"></div>

<div class="pokeball-container" id="pokeballContainer">
  <div class="pokeball" id="pokeball">
    <div class="belt"></div>
    <div class="button"></div>
  </div>
  <div class="ball-text">
    A WILD GIFT APPEARED!<br>[CLICK TO OPEN]
  </div>
</div>

<div class="card-wrapper" id="cardWrapper">
  <div class="card" id="card">
    <div class="card-side card-front">
      <img src="1000016923.jpg">
    </div>
    <div class="card-side card-back">
      <div>
        <h2>LEVEL UP!</h2>
        <p>
          Thank you for being in my party through every battle,
          grind, and random encounter. ðŸ’™<br><br>
          Sorry this gift isnâ€™t a Master Ball or Rare Candyâ€”
          but it comes with all my heart.<br><br>
          I love you more than Snorlax loves naps.
        </p>
      </div>
      <div class="item-box">
        ITEM DISCOVERED!<br>
        A real surprise is hidden inside a PokÃ©bag ðŸ‘€
      </div>
    </div>
  </div>
</div>

<audio id="bgm" loop>
  <source src="https://files.catbox.moe/9xg7n4.mp3">
</audio>

<audio id="openSound">
  <source src="https://vgmsite.com/soundtracks/pokemon-gameboy-sound-collection/ypjptuub/113-item-get.mp3">
</audio>

<audio id="flipSound">
  <source src="https://files.catbox.moe/2gkq5b.mp3">
</audio>

<script>
const pokeball = document.getElementById("pokeball");
const container = document.getElementById("pokeballContainer");
const cardWrapper = document.getElementById("cardWrapper");
const card = document.getElementById("card");
const flash = document.getElementById("flash");
const bgm = document.getElementById("bgm");
const openSound = document.getElementById("openSound");
const flipSound = document.getElementById("flipSound");

let started = false;

pokeball.onclick = () => {
  if (!started) {
    bgm.volume = 0.4;
    bgm.play();
    started = true;
  }

  openSound.play();
  flash.classList.add("active");
  setTimeout(() => flash.classList.remove("active"), 350);

  confetti({ particleCount: 160, spread: 90, origin: { y: 0.6 } });

  setTimeout(() => {
    container.style.display = "none";
    cardWrapper.style.display = "block";
  }, 500);
};

card.onclick = () => {
  flipSound.currentTime = 0;
  flipSound.play();
  card.classList.toggle("flipped");
};
</script>

</body>
</html>
